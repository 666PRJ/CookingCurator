@model CookingCurator.EntityModels.RecipeWithIngredBaseViewModel

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var count = 0;
}

<header>
    <h2> @Html.DisplayFor(model => model.title)</h2>
    <h4>Detailed Recipe Information</h4>
    <h5> @Html.ActionLink("Bookmark this recipe", "BookmarkRecipe", new { id = Model.recipe_Id })</h5>
    <hr />
</header>

<section>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.rating)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.rating)
            <p>
                @Html.ActionLink("Rate Up", "VoteUp", new { id = Model.recipe_Id })
                || @Html.ActionLink("Rate Down", "VoteDown", new { id = Model.recipe_Id })
            </p>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.instructions)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.instructions)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.lastUpdated)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.lastUpdated.Day)/@Html.DisplayFor(model => model.lastUpdated.Month)/@Html.DisplayFor(model => model.lastUpdated.Year)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.author)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.author)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.verified)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.verified)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.source_Link)
        </dt>

        <dd>
            <a href="@Html.DisplayFor(model => model.source_Link)" target="_blank">@Html.DisplayFor(model => model.source_Link)</a>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.country)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.country)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.mealTimeType)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.mealTimeType)
        </dd>
        <dt>
            Ingredients
        </dt>
        <dd>
            <ul class="list-group" style="margin-top:10px">
                @foreach (var item in Model.ingreds)
                {
                    if (count % 2 == 0)
                    {
                        <li class="list-group-item" style="background-color:#E8E8E8">@Html.DisplayFor(modelItem => item.ingred_Name)</li>
                    }
                    else
                    {
                        <li class="list-group-item">@Html.DisplayFor(modelItem => item.ingred_Name)</li>
                    }
                    count++;
                }
            </ul>
        </dd>
    </dl>
</section>

<aside>
    @if (!String.IsNullOrEmpty(Model.fileResult))
    {
        <div id="imgDiv" class="col-lg-offset-1">
            <img src="@Model.fileResult" alt="Recipe Image" />
        </div>

    }
</aside>

<footer>
   
        <p>
            @if (ViewBag.Admin == true || ViewBag.Username == Model.author)
            {
                @Html.ActionLink("Edit", "Edit", new { id = Model.recipe_Id }) <span> | </span>
                @Html.ActionLink("Delete", "Delete", new { id = Model.recipe_Id }) <span> | </span>
            }
            @Html.ActionLink("Report This Recipe", "ReportRecipe", new { id = Model.recipe_Id }) | @Html.ActionLink("Back to Recipe List", "Index")
        </p>
</footer>




